<div class="contentsWrap">

  <div class="page_title">
      <div class="breadcrumb">
          <div class="page_navi">
              <span>Home</span>
              <span>Information</span>
          </div>
          <h1><span>Sub Category Inquiry</span></h1>
      </div>

  </div>

  <div class="container01">

      <div class="col-md-12" style="margin-bottom: 15px; padding: 0px;">
          <strong> {{'COMMON.LABEL.ITEMS' | translate: { value: totalRecord} }}</strong>
      </div>
      <div>
          <kendo-grid scrollable="virtual" [data]="gridView" [selectable]="selectableSettings" [sortable]="true" [sort]="sort" (sortChange)="sortChange($event)" [pageSize]="pageSize" [rowClass]="rowCallback" [skip]="skip" [pageable]="{
            buttonCount: buttonCount,
            info: info,
            type: type,
            pageSizes: pageSizes,
            previousNext: previousNext}" [height]="height" kendoGridSelectBy="subCatId" [scrollable]="'true'" (pageChange)="pageChange($event)" class="table01 overflow-x" [selectedKeys]="mySelection">
            <ng-template kendoGridToolbarTemplate>
              <div class="form-row" style="width: 100%; border-left: none !important;">
                <div class="form-group col-md-8">
                    <input type="text" style="height: 34px;" [ngClass]="search? 'active-input' : ''" class="form-control" [(ngModel)]="search" (ngModelChange)="onChangeSearch($event)" placeholder="Please enter suplier name...">
                    <div class="in_box">
                        <button (click)="onClickBtnSearch()" type="button" style="top: 5px;" tabindex=-1 class="btn btn_del" tabindex=-1 tabindex=-1></button>
                    </div>
                </div>

                <div class="form-group col-md-4">
                  <button kendoGridExcelCommand class="export excel" type="button" style="width: 155px;" icon="file-excel" (click)="save(excelexport)">Export to Excel</button>
                  <button kendoGridPDFCommand class="pdf export" type="button" icon="file-pdf" style="float:right; width: 165px;">
                    <span>Export to PDF</span>
                  </button>
                </div>
              </div>

            </ng-template>

              <kendo-grid-checkbox-column class="cen" [width]="45" [resizable]="false" [columnMenu]="false" showSelectAll="true"></kendo-grid-checkbox-column>

              <kendo-grid-column width="50" class="cen" [sortable]="false" field="no" title="No">
                  <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                      <p>{{rowIndex + 1}}</p>
                  </ng-template>
              </kendo-grid-column>

              <kendo-grid-column width="150" class="subj" field="mainCatName" title="Main Categorg"></kendo-grid-column>
              <kendo-grid-column width="150" class="subj" field="subCatName" title="Sub Categorg"></kendo-grid-column>
              <kendo-grid-column width="190" class="subj" field="description" title="Description"></kendo-grid-column>
              <kendo-grid-column width="190" class="subj" field="createDate" title="Create Date">
                  <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                      <p>{{dataItem.createDate | dateFormat}}</p>
                  </ng-template>
              </kendo-grid-column>
              <kendo-grid-column width="240" class="subj" field="modifyDate" title="Modify Date">
                  <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                      <p>{{dataItem.modifyDate | dateFormat}}</p>
                  </ng-template>
              </kendo-grid-column>

              <kendo-grid-column width="100" class="cen" [sortable]="false" field="edit" title="edit">
                  <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                      <button type="button" tabindex=-1 class="btn_edit01" id="rowIndex" (click)="clickEdit(dataItem)"><span>edit</span></button>
                  </ng-template>
              </kendo-grid-column>

              <!-- pdf -->
              <kendo-grid-pdf fileName="sub-category.pdf" [allPages]="true" paperSize="A5" [repeatHeaders]="true" [landscape]="true">
                <!-- <kendo-grid-pdf-margin top="2cm" left="1cm" right="1cm" bottom="2cm"></kendo-grid-pdf-margin> -->
                <ng-template kendoGridPDFTemplate let-pageNum="pageNum" let-totalPages="totalPages">
                 <div class="page-template">
                    <div class="header">
                      <div style="float: right">Page {{ pageNum }} of {{ totalPages }}</div>
                    </div>
                  </div>
                </ng-template>
            </kendo-grid-pdf>

              <!-- excele -->
              <kendo-excelexport [data]="data" fileName="sub-category.xlsx" #excelexport>
                <kendo-excelexport-column field="subCatId" title="ID"></kendo-excelexport-column>
                <kendo-excelexport-column field="mainCatName" title="Main Category Name"></kendo-excelexport-column>
                <kendo-excelexport-column field="subCatName" title="Sub Category Name" ></kendo-excelexport-column>
                <kendo-excelexport-column field="description" title="Description"></kendo-excelexport-column>
            </kendo-excelexport>


          </kendo-grid>
      </div>

      <div class="table_control">
          <div class="btn_area">
              <button type="button" tabindex=-1 class="btn03 r" (click)="onClickDelete()"><span>Delete</span></button>
          </div>
      </div>

      <div class="c_btn">
          <div class="add-btn btn-css" (click)="REGISTER()">
              <span>{{'COMMON.LABEL.ADD_NEW' | translate}}</span>
          </div>
      </div>
  </div>
</div>
